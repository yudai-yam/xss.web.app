<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>HTML5 postMessage (Insecure)</title>
		<meta name="description" content="A game to demonstrate the HTML5 postMessage() function.">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"> 
		<meta charset="utf-8"> 
	</head>
	<body data-new-gr-c-s-check-loaded="8.931.0" data-gr-ext-installed="">
		<h1>HTML5 postMessage (Insecure) - Game Client</h1>
		<p>
			<strong>What is postMessage XSS?</strong>
		</p>
		<p>
			postMessage XSS is a vulnerability that occurs when untrusted messages received via window.postMessage are used in the DOM without validating the sender's origin
			or sanitizing the message content, allowing attackers to execute malicious scripts.
		</p>

		<hr>
		<div id="set_username">
			<label for="username">Enter your username:</label>
            <input type="text" id="username" name="username" value="">
			<input type="button" value="Set" id="setUsername">
		</div>

		<div id="game" style="display: none;">
			<h2 id="welcome">x</h2>
			<p>
				I'm thinking of a number between 1 and 10, see if you can guess it.
			</p>
			<p>
				<span id="result"></span><br>
				<label for="guess">Guess:</label> <input value="" id="guess" name="guess">
				<input type="button" id="checkGuess" value="Check it">
			</p>
		</div>
		<hr>
		<button id="toggle_examples">Toggle Examples</button>
		<div id="examples">
			<p>
				<code>send_message("user:this is &lt;b&gt;bold&lt;/b&gt;")</code><br>
				<code>send_message("user:&lt;img src='x' onerror='alert(&quot;xss&quot;)' /&gt;")</code><br>
				<code>send_message('user:&lt;img src="x" onerror="alert(secret)"&gt;')</code>
			</p>
		</div>

    	<button id="switch-version">Switch to Secure Version</button>
		<script src="./config.js"></script>
    	<script src="../../utils/show-hide.js"></script>
		<script src="./main.js"></script>
    	<script src="../../utils/switch-page.js"></script>
	</body>
</html>